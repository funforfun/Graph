Различные типы вершин наверно лучше реализовывать не в виде классов, а задавать в поле вершины:
VertexWithValue, а внутри уже будут содержать какого типа значения они содержат